<!DOCTYPE html>

<!-- paulirish.com/2008/conditional-stylesheets-vs-css-hacks-answer-neither/ -->
<!--[if lt IE 7]> <html class="no-js lt-ie9 lt-ie8 lt-ie7" lang="en"> <![endif]-->
<!--[if IE 7]>    <html class="no-js lt-ie9 lt-ie8" lang="en"> <![endif]-->
<!--[if IE 8]>    <html class="no-js lt-ie9" lang="en"> <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en"> <!--<![endif]-->
<head>
  <meta charset="utf-8" />

  <!-- Set the viewport width to device width for mobile -->
  <meta name="viewport" content="width=device-width" />

  <title>PowerDNS Control Center</title>
  
  <!-- Included CSS Files (Uncompressed) -->
  <!--
  <link rel="stylesheet" href="stylesheets/foundation.css">
  -->

  <link rel="stylesheet" href="DataTables-1.9.4/media/css/demo_page.css">
  <link rel="stylesheet" href="DataTables-1.9.4/media/css/demo_table.css">  
  <link rel="stylesheet" href="DataTables-1.9.4/media/css/demo_table_jui.css">  
  <link rel="stylesheet" href="DataTables-1.9.4/media/css/jquery.dataTables.css">  
  <link rel="stylesheet"  href="DataTables-1.9.4/media/css/jquery.dataTables_themeroller.css">
  
  <!-- Included CSS Files (Compressed) -->
  <link rel="stylesheet" href="stylesheets/foundation.min.css">
  <link rel="stylesheet" href="stylesheets/app.css">

  <script src="javascripts/modernizr.foundation.js"></script>
 <script type="text/javascript" src="javascripts/moment.min.js"></script>

  <!-- IE Fix for HTML5 Tags -->
  <!--[if lt IE 9]>
    <script src="http://html5shiv.googlecode.com/svn/trunk/html5.js"></script>
  <![endif]-->

</head>
<body>
  <div class="row">
      <div class="seven columns">
      <h3><a href="./">PowerDNS Control Server</a></h3>
      </div>
      <div class="five columns">
      <br>
      <a href="./"><img align="right" class="logo" src="http://xs.powerdns.com/logos/powerdns-logo-154px.png"></a>
      </div>
  </div>
  <div class="row">

    <div class="twelve columns">
      <H2 id="server-name"></h2>
      <p>Running version <strong><span id="version">...</span></strong>, up since <span
      id="uptime">...</span></p>
      <p>
      <ul class="button-group four-up even">
        <li><a href="#" class="alert button" id="btnActionShutdown">Shutdown</a></li>
        <li><a href="#" class="button" id="btnActionRestart">Restart</a></li>
        <li><a href="#" class="button" id="btnActionFlushCache">Flush cache</a></li>
        <li><a href="#" class="button" id="btnActionDeploy">Deploy</a></li>
      </ul>
      <hr>
      <form id="logSearchForm">
      <fieldset>
      <legend>Log Search</legend>
      <input type="text" id="logQuery" placeholder="Standard Input" />
      </fieldset>
      </form>

      </p>
      	<dl class="tabs">
	  <dd class="active"><a href="#graph">Graph</a></dd>
  	  <dd><a href="#simple2">Statistics</a></dd>
  	  <dd><a href="#simple3">Domains</a></dd>
  	  <dd><a href="#simple4">Configuration</a></dd>
	</dl>
	<ul class="tabs-content">
	  <li class="active" id="graphTab"></li>
	  <li id="simple2Tab"><table id="statistics"></table></li>
	  <li id="simple3Tab"><table id="domains"></table></li>	  
	  <li id="simple4Tab"><table id="config"></table></li>
	</ul>
    </div>  
  </div>
      
  <!-- Included JS Files (Compressed) -->
  <script src="javascripts/jquery.js"></script>
  <script src="javascripts/foundation.min.js"></script>
  <script src="javascripts/jquery.dataTables.min.js"></script>  
  <script src="javascripts/underscore-min.js"></script>
  <script src="javascripts/purl.js"></script>
  <script src="javascripts/jquery.foundation.reveal.js"></script>
  <script src="javascripts/spin.min.js"></script>
  <script src="javascripts/jquery.spin.js"></script>
  <!-- Initialize JS Plugins -->
  <script src="javascripts/app.js"></script>
  <script src="javascripts/auth.js"></script>
  <script>
    $(function() {
      $.getJSON("servers.json", function(servers) {
        var server_name = $.url().param("server-name");
        build_auth(
          _.find(servers, function(server) {
            return server['name'] === server_name;
          })
        );
      });
    });

  </script> 

  <div id="domainModal" class="reveal-modal expand">
    <table id="domain"></table>
    <a class="close-reveal-modal">&#215;</a>
  </div>

  <div id="logModal" class="reveal-modal expand">
    <div class="row">
      <div class="ten columns">
        <form>
	  <fieldset>
	    <legend>Log Search</legend>
	    <input type="text" id="logQuery2" placeholder="Standard Input" />
	  </fieldset>
        </form>
      </div>
      </div>
    <div class="row"><div class="twelve columns"><span id="holder"></span></div></div>
    <a class="close-reveal-modal">&#215;</a>
  </div>

<div id="flushModal" class="reveal-modal medium">
<h3>Flush entire cache or parts of it</h3>
<form>
  <fieldset>

    <legend>Flush</legend>

    <label>Domain:</label>
    <input id="domainToFlush" type="text" />
    <br>
    <div class="row">
    <div class="six columns"></div>    
    <div class="two columns"><input type="button" class="small alert button" onClick="$('#flushModal').trigger('reveal:close');" value="Cancel"/></div>
    <div class="two columns right"><input type="button" class="small success button" value="Flush"/></div>
    <div class="two columns" id="flushSpinner"></div>
    
    </div>
    <br>
  </fieldset>
</form>
<a class="close-reveal-modal">&#215;</a>
</div>  

</body>
</html>
